# Dashboard statistics and analytics

type DashboardOverview {
  totalRequests: Int!
  requestStats: RequestStats!
  failedRequests: Int!
  averageResponseTime: Float
}

type RequestStats {
  requestsToday: Int!
  requestsThisWeek: Int!
  requestsLastWeek: Int!
  requestsThisMonth: Int!
}

type RequestStatsByChannel {
  channelName: String!
  count: Int!
}

type RequestStatsByModel {
  modelId: String!
  count: Int!
}

type RequestStatsByAPIKey {
  apiKeyId: ID!
  apiKeyName: String!
  count: Int!
}

type TokenStatsByAPIKey {
  apiKeyId: ID!
  apiKeyName: String!
  inputTokens: Int!
  outputTokens: Int!
  cachedTokens: Int!
  reasoningTokens: Int!
  totalTokens: Int!
}

type DailyRequestStats {
  date: String!
  count: Int!
  tokens: Int!
  cost: Float!
}

type HourlyRequestStats {
  hour: Int!
  count: Int!
}

type TokenStats {
  totalInputTokensToday: Int!
  totalOutputTokensToday: Int!
  totalCachedTokensToday: Int!

  totalInputTokensThisWeek: Int!
  totalOutputTokensThisWeek: Int!
  totalCachedTokensThisWeek: Int!

  totalInputTokensThisMonth: Int!
  totalOutputTokensThisMonth: Int!
  totalCachedTokensThisMonth: Int!
}

type TopRequestsProjects {
  projectId: ID!
  projectName: String!
  projectDescription: String!
  requestCount: Int!
}

type ChannelSuccessRate {
  channelId: ID!
  channelName: String!
  channelType: String!
  successCount: Int!
  failedCount: Int!
  totalCount: Int!
  successRate: Float!
}

extend type Query {
  dashboardOverview: DashboardOverview!
  requestStats: RequestStats!
  requestStatsByChannel: [RequestStatsByChannel!]!
  requestStatsByModel: [RequestStatsByModel!]!
  requestStatsByAPIKey: [RequestStatsByAPIKey!]!
  tokenStatsByAPIKey: [TokenStatsByAPIKey!]!
  dailyRequestStats: [DailyRequestStats!]!
  topRequestsProjects: [TopRequestsProjects!]!
  tokenStats: TokenStats!
  channelSuccessRates: [ChannelSuccessRate!]!
}