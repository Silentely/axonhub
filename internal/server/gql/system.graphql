
input InitializeSystemInput {
  ownerEmail: String!
  ownerPassword: String!
  ownerFirstName: String!
  ownerLastName: String!
  brandName: String!
}

type InitializeSystemPayload {
  success: Boolean!
  message: String!
  user: User
  token: String
}

type SystemStatus {
  isInitialized: Boolean!
}

type BrandSettings {
  brandName: String
  brandLogo: String
}

type StoragePolicy {
  storeChunks: Boolean!
  storeRequestBody: Boolean!
  storeResponseBody: Boolean!
  cleanupOptions: [CleanupOption!]!
}

type CleanupOption {
  resourceType: String!
  enabled: Boolean!
  cleanupDays: Int!
}

input UpdateBrandSettingsInput {
  brandName: String
  brandLogo: String
}

input UpdateStoragePolicyInput {
  storeChunks: Boolean
  storeRequestBody: Boolean
  storeResponseBody: Boolean
  cleanupOptions: [CleanupOptionInput!]
}

input CleanupOptionInput {
  resourceType: String!
  enabled: Boolean!
  cleanupDays: Int!
}

type RetryPolicy {
  maxChannelRetries: Int!
  maxSingleChannelRetries: Int!
  retryDelayMs: Int!
  loadBalancerStrategy: String!
  enabled: Boolean!
}

input UpdateRetryPolicyInput {
  maxChannelRetries: Int
  maxSingleChannelRetries: Int
  retryDelayMs: Int
  loadBalancerStrategy: String
  enabled: Boolean
}

type SystemModelSettings {
  fallbackToChannelsOnModelNotFound: Boolean!
  queryAllChannelModels: Boolean!
}

input UpdateSystemModelSettingsInput {
  fallbackToChannelsOnModelNotFound: Boolean
  queryAllChannelModels: Boolean
}

input UpdateDefaultDataStorageInput {
  dataStorageID: ID!
}

type OnboardingInfo {
  onboarded: Boolean!
  version: String!
  completedAt: Time
}

input CompleteOnboardingInput {
  dummy: String
}

extend type Mutation {
  updateBrandSettings(input: UpdateBrandSettingsInput!): Boolean!
  updateStoragePolicy(input: UpdateStoragePolicyInput!): Boolean!
  updateRetryPolicy(input: UpdateRetryPolicyInput!): Boolean!
  updateSystemModelSettings(input: UpdateSystemModelSettingsInput!): Boolean!
  updateDefaultDataStorage(input: UpdateDefaultDataStorageInput!): Boolean!
  completeOnboarding(input: CompleteOnboardingInput!): Boolean!
}

type SystemVersion {
  version: String!
  commit: String!
  buildTime: String!
  goVersion: String!
  platform: String!
  uptime: String!
}

type VersionCheck {
  currentVersion: String!
  latestVersion: String!
  hasUpdate: Boolean!
  releaseUrl: String!
}

extend type Query {
  systemStatus: SystemStatus!
  brandSettings: BrandSettings!
  storagePolicy: StoragePolicy!
  retryPolicy: RetryPolicy!
  systemModelSettings: SystemModelSettings!
  defaultDataStorageID: ID
  onboardingInfo: OnboardingInfo
  systemVersion: SystemVersion!
  checkForUpdate: VersionCheck!
}