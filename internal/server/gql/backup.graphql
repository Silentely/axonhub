scalar Upload

enum BackupConflictStrategy {
  SKIP
  OVERWRITE
  ERROR
}

input BackupOptionsInput {
  includeChannels: Boolean!
  includeModelPrices: Boolean! = true
  includeModels: Boolean!
  includeAPIKeys: Boolean!
}

input RestoreOptionsInput {
  includeChannels: Boolean!
  includeModelPrices: Boolean! = true
  includeModels: Boolean!
  includeAPIKeys: Boolean!
  channelConflictStrategy: BackupConflictStrategy!
  modelConflictStrategy: BackupConflictStrategy!
  apiKeyConflictStrategy: BackupConflictStrategy!
}

type BackupPayload {
  success: Boolean!
  data: String
  message: String
}

type RestorePayload {
  success: Boolean!
  message: String
}

extend type Mutation {
  backup(input: BackupOptionsInput!): BackupPayload!
  restore(file: Upload!, input: RestoreOptionsInput!): RestorePayload!
}
