
input InitializeSystemInput {
  ownerEmail: String!
  ownerPassword: String!
  ownerFirstName: String!
  ownerLastName: String!
  brandName: String!
}

type InitializeSystemPayload {
  success: Boolean!
  message: String!
  user: User
  token: String
}

type SystemStatus {
  isInitialized: Boolean!
}

type BrandSettings {
  brandName: String
  brandLogo: String
}

type StoragePolicy {
  storeChunks: Boolean!
  storeRequestBody: Boolean!
  storeResponseBody: Boolean!
  cleanupOptions: [CleanupOption!]!
}

type CleanupOption {
  resourceType: String!
  enabled: Boolean!
  cleanupDays: Int!
}

input UpdateBrandSettingsInput {
  brandName: String
  brandLogo: String
}

input UpdateStoragePolicyInput {
  storeChunks: Boolean
  storeRequestBody: Boolean
  storeResponseBody: Boolean
  cleanupOptions: [CleanupOptionInput!]
}

input CleanupOptionInput {
  resourceType: String!
  enabled: Boolean!
  cleanupDays: Int!
}

type AutoDisableChannelStatus {
  status: Int!
  times: Int!
}

type AutoDisableChannel {
  enabled: Boolean!
  statuses: [AutoDisableChannelStatus!]!
}

type RetryPolicy {
  maxChannelRetries: Int!
  maxSingleChannelRetries: Int!
  retryDelayMs: Int!
  loadBalancerStrategy: String!
  enabled: Boolean!
  autoDisableChannel: AutoDisableChannel!
}

input AutoDisableChannelStatusInput {
  status: Int!
  times: Int!
}

input AutoDisableChannelInput {
  enabled: Boolean
  statuses: [AutoDisableChannelStatusInput!]
}

input UpdateRetryPolicyInput {
  maxChannelRetries: Int
  maxSingleChannelRetries: Int
  retryDelayMs: Int
  loadBalancerStrategy: String
  enabled: Boolean
  autoDisableChannel: AutoDisableChannelInput
}

type SystemModelSettings {
  fallbackToChannelsOnModelNotFound: Boolean!
  queryAllChannelModels: Boolean!
}

input UpdateSystemModelSettingsInput {
  fallbackToChannelsOnModelNotFound: Boolean
  queryAllChannelModels: Boolean
}

input UpdateDefaultDataStorageInput {
  dataStorageID: ID!
}

type SystemModelSettingOnboarding {
  onboarded: Boolean!
  completedAt: Time
}

type OnboardingInfo {
  onboarded: Boolean!
  version: String!
  completedAt: Time
  systemModelSetting: SystemModelSettingOnboarding
}

input CompleteOnboardingInput {
  dummy: String
}

input CompleteSystemModelSettingOnboardingInput {
  dummy: String
}

enum ProbeFrequency {
  ONE_MINUTE
  FIVE_MINUTES
  THIRTY_MINUTES
  ONE_HOUR
}

type ChannelProbeSetting {
  enabled: Boolean!
  frequency: ProbeFrequency!
}

type SystemChannelSettings {
  probe: ChannelProbeSetting!
}

input UpdateChannelProbeSettingInput {
  enabled: Boolean!
  frequency: ProbeFrequency!
}

input UpdateSystemChannelSettingsInput {
  probe: UpdateChannelProbeSettingInput
}

type SystemGeneralSettings {
  currencyCode: String!
  timezone: String!
}

input UpdateSystemGeneralSettingsInput {
  currencyCode: String
  timezone: String
}

extend type Mutation {
  updateBrandSettings(input: UpdateBrandSettingsInput!): Boolean!
  updateStoragePolicy(input: UpdateStoragePolicyInput!): Boolean!
  updateRetryPolicy(input: UpdateRetryPolicyInput!): Boolean!
  updateSystemModelSettings(input: UpdateSystemModelSettingsInput!): Boolean!
  updateDefaultDataStorage(input: UpdateDefaultDataStorageInput!): Boolean!
  completeOnboarding(input: CompleteOnboardingInput!): Boolean!
  completeSystemModelSettingOnboarding(input: CompleteSystemModelSettingOnboardingInput!): Boolean!
  updateSystemChannelSettings(input: UpdateSystemChannelSettingsInput!): Boolean!
  updateSystemGeneralSettings(input: UpdateSystemGeneralSettingsInput!): Boolean!
}

type SystemVersion {
  version: String!
  commit: String!
  buildTime: String!
  goVersion: String!
  platform: String!
  uptime: String!
}

type VersionCheck {
  currentVersion: String!
  latestVersion: String!
  hasUpdate: Boolean!
  releaseUrl: String!
}

extend type Query {
  systemStatus: SystemStatus!
  brandSettings: BrandSettings!
  storagePolicy: StoragePolicy!
  retryPolicy: RetryPolicy!
  systemModelSettings: SystemModelSettings!
  defaultDataStorageID: ID
  onboardingInfo: OnboardingInfo
  systemVersion: SystemVersion!
  checkForUpdate: VersionCheck!
  systemChannelSettings: SystemChannelSettings!
  systemGeneralSettings: SystemGeneralSettings!
}
