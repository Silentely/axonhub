package gql

// This file will be automatically regenerated based on the schema, any resolver
// implementations
// will be copied through when generating and any unknown code will be moved to the end.
// Code generated by github.com/99designs/gqlgen

import (
	"context"

	"github.com/looplj/axonhub/internal/ent"
	"github.com/looplj/axonhub/internal/objects"
	"github.com/looplj/axonhub/internal/server/biz"
	"github.com/samber/lo"
)

// SaveChannelModelPrices is the resolver for the saveChannelModelPrices field.
func (r *mutationResolver) SaveChannelModelPrices(ctx context.Context, channelID objects.GUID, input []*biz.SaveChannelModelPriceInput) ([]*ent.ChannelModelPrice, error) {
	inputs := lo.Map(input, func(i *biz.SaveChannelModelPriceInput, _ int) biz.SaveChannelModelPriceInput {
		return *i
	})

	return r.channelService.SaveChannelModelPrices(ctx, channelID.ID, inputs)
}
