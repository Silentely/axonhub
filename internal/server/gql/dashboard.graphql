# Dashboard statistics and analytics

type DashboardOverview {
  totalUsers: Int!
  totalRequests: Int!
  requestStats: RequestStats!
  failedRequests: Int!
  averageResponseTime: Float
}

type RequestStats {
  requestsToday: Int!
  requestsThisWeek: Int!
  requestsThisMonth: Int!
}

type RequestStatsByChannel {
  channelName: String!
  channelType: String!
  count: Int!
}

type RequestStatsByModel {
  modelId: String!
  count: Int!
}

type DailyRequestStats {
  date: String!
  count: Int!
}

type HourlyRequestStats {
  hour: Int!
  count: Int!
}

type TokenStats {
  totalInputTokensToday: Int!
  totalOutputTokensToday: Int!
  totalCachedTokensToday: Int!

  totalInputTokensThisWeek: Int!
  totalOutputTokensThisWeek: Int!
  totalCachedTokensThisWeek: Int!

  totalInputTokensThisMonth: Int!
  totalOutputTokensThisMonth: Int!
  totalCachedTokensThisMonth: Int!
}

type TopRequestsUsers {
  userId: ID!
  userName: String!
  userEmail: String!
  requestCount: Int!
}

extend type Query {
  dashboardOverview: DashboardOverview!
  requestStats: RequestStats!
  requestStatsByChannel: [RequestStatsByChannel!]!
  requestStatsByModel: [RequestStatsByModel!]!
  dailyRequestStats(days: Int = 30): [DailyRequestStats!]!
  topRequestsUsers(limit: Int = 10): [TopRequestsUsers!]!
  tokenStats: TokenStats!
}