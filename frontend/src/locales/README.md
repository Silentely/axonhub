# 翻译检查脚本

本目录包含两个翻译检查脚本，用于确保前端代码中的翻译 key 与翻译文件保持一致。

## 脚本说明

### 1. `check_translations.sh`

对比中英文翻译文件，检查是否有遗漏的翻译 key。

**功能：**

- 检查英文翻译文件中存在但中文翻译文件中不存在的 key
- 检查中文翻译文件中存在但英文翻译文件中不存在的 key

**使用方法：**

```bash
./check_translations.sh
```

### 2. `check_translation_keys.sh` ⭐ 推荐

检查前端代码中使用的翻译 key 与翻译文件中的 key 是否一致。

**功能：**

- 扫描前端代码中所有使用的翻译 key
- 扫描翻译文件中所有定义的 key
- 检测缺失的翻译 key（代码中使用但翻译文件中不存在）
- 检测多余的翻译 key（翻译文件中存在但代码中未使用）

**使用方法：**

```bash
./check_translation_keys.sh
```

**输出说明：**

- `❌ 缺失的翻译 key`：代码中使用但翻译文件中不存在的 key，需要添加到翻译文件中
- `⚠️  多余的翻译 key`：翻译文件中存在但代码中未使用的 key，可以考虑删除
- `✅ 检查通过`：所有使用的翻译 key 都已定义

**退出码：**

- `0`：检查通过，没有缺失的翻译 key
- `1`：检查失败，存在缺失的翻译 key

## 最佳实践

1. **提交代码前运行检查**：在提交代码前运行 `check_translation_keys.sh`，确保所有使用的翻译 key 都已定义

2. **添加新翻译时**：
   - 在代码中使用新的翻译 key 时，记得在 `en/*.json` 和 `zh-CN/*.json` 中添加对应的翻译
   - 运行检查脚本验证是否正确添加

3. **删除代码时**：
   - 删除代码中的翻译 key 后，可以运行检查脚本查看哪些翻译 key 已不再使用
   - 根据检查结果清理不再使用的翻译 key

4. **CI/CD 集成**：可以将 `check_translation_keys.sh` 集成到 CI/CD 流程中，确保代码质量

## 注意事项

- 脚本会自动过滤掉一些非翻译 key 的内容（如路径、选择器、纯符号等）
- 脚本支持嵌套的翻译 key（如 `common.buttons.save`）
- 如果发现误判，可以检查代码中是否正确使用了 `t()` 函数
